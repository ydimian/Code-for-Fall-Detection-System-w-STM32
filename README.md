# Code-for-Fall-Detection-System-w-STM32
STM32-based fall detection system using the ADXL345 accelerometer. Implements real-time I2C data acquisition, acceleration magnitude analysis, UART debug output, and GPIO signaling for embedded safety applications.

# STM32-Based Fall Detection Using ADXL345

This repository contains embedded C code for a fall detection system implemented on an STM32 microcontroller using the ADXL345 accelerometer. The project demonstrates real-time sensor communication over I2C, acceleration magnitude analysis, fall detection logic, GPIO signaling, and UART-based serial communication for debugging.

## Project Overview

Two implementations are included:

1. **Fall Detection System (`main.c`)**  
   A complete system that initializes the ADXL345, reads acceleration data, calculates total acceleration magnitude, and detects falls using a defined threshold. Detected falls are indicated via a GPIO output and logged over UART.

2. **Accelerometer Data Demo (`accelerometer_demo.c`)**  
   A simplified version that initializes the accelerometer, continuously reads acceleration data, calculates the magnitude, and outputs it via UART for demonstration or testing purposes.

## Hardware Requirements

- STM32 microcontroller (tested on STM32F4 series; adaptable to others)
- ADXL345 accelerometer (I2C interface)
- LED connected to GPIO pin (e.g., PC7) for fall indication
- USB-to-Serial adapter or onboard ST-Link for UART monitoring
- 3.3V power supply (do not power ADXL345 with 5V if unregulated)

## Connections

| ADXL345 Pin | STM32 Connection    |
|-------------|---------------------|
| VCC         | 3.3V                |
| GND         | GND                 |
| SDA         | I2C1_SDA (e.g., PB9)|
| SCL         | I2C1_SCL (e.g., PB8)|

Ensure the I2C pins are correctly configured in the STM32CubeMX `.ioc` file.

## Software Configuration

The code is based on the STM32 HAL library and requires the following peripheral configurations via STM32CubeMX:

- **I2C1**: Enabled and mapped to the appropriate SDA/SCL pins.
- **USART2**: Enabled for UART communication (TX at 115200 baud).
- **GPIO**: Configure PC7 (or another available pin) as a push-pull output to signal falls.

The functions `MX_GPIO_Init()`, `MX_I2C1_Init()`, and `MX_USART2_UART_Init()` must be present in the project (generated by STM32CubeMX) and are called in `main()`.

## Fall Detection Logic

The fall detection mechanism computes the magnitude of acceleration using the formula:

